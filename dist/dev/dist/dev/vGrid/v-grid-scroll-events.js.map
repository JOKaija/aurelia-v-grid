{"version":3,"sources":["vGrid/v-grid-scroll-events.js"],"names":["VGridScrollEvents","vGrid","lastScrollTop","lastScrollLeft","isScrollBarScrolling","scrollbarScrollingTimer","lastScrollType","onLargeScroll","vGridGenerator","contentElement","scrollTop","vGridConfig","getCollectionLength","rowElementArray","length","rowHeight","attRowHeight","bodyHeight","clientHeight","currentRow","parseInt","firstRow","currentRowTop","firstRowTop","collectionLength","setAfter","cacheRowNumber","row","setRowTopValue","setBefore","setHiddenFromView","i","getRowCacheLength","moved","sort","a","b","top","rebindAllRowSlots","onSmallScroll","isDownScroll","currentScrollTop","newTopValue","collectionHeight","rowTop","update","contentHeight","updateRowBinding","onScrollbarScrolling","timeout","attDataScrollDelay","clearTimeout","setTimeout","scrollEventHandler","currentScrollLeft","scrollLeft","headerElement","isLargeScroll","largeScrollLimit","attRenderOnScrollbarScroll","style","overflowX","vGridSelection","vGridCellHelper","element","vGridSortable","vGridResizable"],"mappings":"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","file":"vGrid/v-grid-scroll-events.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    VGridScrollEvents\r\n *    This just have all the scroll functions the vGridGenerator needs\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nexport class VGridScrollEvents {\r\n\r\n  constructor(vGrid) {\r\n    this.vGrid = vGrid;\r\n    this.lastScrollTop = 0;\r\n    this.lastScrollLeft = 0;\r\n    this.isScrollBarScrolling = false;\r\n    this.scrollbarScrollingTimer = null;\r\n    this.lastScrollType = null\r\n  }\r\n\r\n  get vGridGenerator() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridGenerator;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridSelection() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridSelection;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridConfig() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridConfig;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridCellHelper() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridCellHelper;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridElement() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.element;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridSortable() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridSortable;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridResizable() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridResizable;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /****************************************************************************************************************************\r\n   * option to scrollbars scrolling where we update all the time and dont use timeout\r\n   ****************************************************************************************************************************/\r\n  onLargeScroll() {\r\n\r\n    this.lastScrollTop = this.vGridGenerator.contentElement.scrollTop;\r\n\r\n    if (this.vGridConfig.getCollectionLength() <= this.vGridGenerator.rowElementArray.length) {\r\n      this.lastScrollTop = 0;\r\n    }\r\n\r\n\r\n    //vars\r\n    var rowHeight = this.vGridConfig.attRowHeight;\r\n    var bodyHeight = this.vGridGenerator.contentElement.clientHeight;\r\n    var currentRow = parseInt(this.lastScrollTop / rowHeight, 10);\r\n    var firstRow = parseInt(this.vGridGenerator.contentElement.scrollTop / rowHeight, 10);\r\n    var currentRowTop = rowHeight * currentRow;\r\n    var firstRowTop = rowHeight * firstRow;\r\n    var collectionLength = this.vGridConfig.getCollectionLength();\r\n\r\n\r\n    //for setting after\r\n    var setAfter = (cacheRowNumber) => {\r\n      var row = this.vGridGenerator.rowElementArray[cacheRowNumber];\r\n      this.vGridGenerator.setRowTopValue([row], 0, currentRowTop);\r\n      currentRowTop = currentRowTop + rowHeight;\r\n    };\r\n\r\n\r\n    //for setting before (when hitting bottom)\r\n    var setBefore = (cacheRowNumber) => {\r\n      var row = this.vGridGenerator.rowElementArray[cacheRowNumber];\r\n      firstRowTop = firstRowTop - rowHeight;\r\n      this.vGridGenerator.setRowTopValue([row], 0, firstRowTop);\r\n    };\r\n\r\n\r\n    //for setting before (when hitting bottom)\r\n    var setHiddenFromView = (cacheRowNumber) => {\r\n      var row = this.vGridGenerator.rowElementArray[cacheRowNumber];\r\n      this.vGridGenerator.setRowTopValue([row], 0, -(currentRowTop + (this.vGridConfig.attRowHeight * 50)));\r\n    };\r\n\r\n    //loop row html cache\r\n    for (var i = 0; i < this.vGridGenerator.getRowCacheLength(); i++) {\r\n      var moved = false;\r\n      switch (true) {\r\n        case currentRow >= 0 && currentRow <= collectionLength - 1:\r\n          setAfter(i);\r\n          moved = true;\r\n          break;\r\n        case currentRow >= collectionLength && (collectionLength * rowHeight) >= bodyHeight:\r\n          setBefore(i);\r\n          moved = true;\r\n          break;\r\n      }\r\n      if (!moved) {\r\n        if (currentRow >= collectionLength && (currentRowTop - rowHeight) >= bodyHeight) {\r\n          setHiddenFromView(i);\r\n        } else {\r\n          //if this triggers the collection have been removed, so really just need to place out the rows\r\n          if (currentRow >= collectionLength) {\r\n            setAfter(i);\r\n          }\r\n        }\r\n      }\r\n\r\n      currentRow++;\r\n    }\r\n\r\n\r\n    //I now sort the array again.\r\n    this.vGridGenerator.rowElementArray.sort(\r\n      function (a, b) {\r\n        return parseInt(a.top) - parseInt(b.top)\r\n      });\r\n\r\n    //update row data\r\n    this.vGridGenerator.rebindAllRowSlots();\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * add the rows to scroll div (for normal scrolling when not using scrollbars)\r\n   ****************************************************************************************************************************/\r\n  onSmallScroll(isDownScroll, currentScrollTop) {\r\n\r\n    //check is user have preformed big scroll\r\n    var currentScrollTop = this.vGridGenerator.contentElement.scrollTop;\r\n    if (this.isScrollBarScrolling === false) {\r\n\r\n\r\n      var newTopValue;\r\n      var currentRow = parseInt((this.lastScrollTop / this.vGridConfig.attRowHeight), 10);\r\n      var collectionHeight = this.vGridConfig.attRowHeight * this.vGridGenerator.getRowCacheLength();\r\n      var rowHeight = this.vGridConfig.attRowHeight;\r\n\r\n      //loop our row html cache\r\n      for (var i = 0; i < this.vGridGenerator.getRowCacheLength(); i++) {\r\n\r\n        var row = this.vGridGenerator.rowElementArray[i];\r\n        var rowTop = parseInt(row.top, 10);\r\n        var update = false;\r\n\r\n\r\n        if (isDownScroll) {\r\n          this.lastScrollType = \"down\";\r\n          if (rowTop < (currentScrollTop - rowHeight)) {\r\n            update = true;\r\n            newTopValue = rowTop + collectionHeight;\r\n            currentRow = (rowTop + collectionHeight) / rowHeight;\r\n          }\r\n\r\n          //if for some reason the new rowtop is higher then collection, and content height (for cases where very small collection)\r\n          if (rowTop > ((this.vGridConfig.getCollectionLength() - 1) * rowHeight) && rowTop > this.vGridGenerator.contentHeight) {\r\n            update = false;\r\n            this.vGridGenerator.setRowTopValue([row], 0, -((rowHeight * i) + (rowHeight * 50)));\r\n          }\r\n\r\n        } else {\r\n          this.lastScrollType = \"up\";\r\n          if (rowTop > (currentScrollTop + this.vGridGenerator.contentHeight)) {\r\n            update = true;\r\n            newTopValue = rowTop - collectionHeight;\r\n            currentRow = (rowTop - collectionHeight) / rowHeight;\r\n          }\r\n\r\n        }\r\n\r\n        //update data\r\n        if (update === true && currentRow >= 0 && currentRow <= this.vGridConfig.getCollectionLength() - 1) {\r\n          this.vGridGenerator.setRowTopValue([row], 0, newTopValue);\r\n          this.vGridConfig.updateRowBinding(currentRow, row, isDownScroll, false);\r\n        }\r\n\r\n      }\r\n\r\n      //sort the cache array so we loop in correct order\r\n      this.vGridGenerator.rowElementArray.sort(\r\n        function (a, b) {\r\n          return parseInt(a.top) - parseInt(b.top)\r\n        });\r\n\r\n    } else {\r\n\r\n      //just in case user scrolls big then small, do not want to update before he stops\r\n      this.onScrollbarScrolling()\r\n    }\r\n\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * option to scrollbars scrolling where we dont update all the time and use timeout (\r\n   * plan was to use this with virtual scrolling with datasource using chaching to fetch data, you dont want to try and get 500 k rows in 5 sec\r\n   ****************************************************************************************************************************/\r\n  onScrollbarScrolling() {\r\n    //set halt var to true, so small scroll will be stopped, will be laggy else\r\n    this.isScrollBarScrolling = true;\r\n\r\n    //delay before doing update\r\n    var timeout = this.vGridConfig.attDataScrollDelay;\r\n\r\n    //clear scroll timeout\r\n    clearTimeout(this.scrollbarScrollingTimer);\r\n\r\n    //set timeout, incase user is still scrolling\r\n    this.scrollbarScrollingTimer = setTimeout(() => {\r\n      this.onLargeScroll();\r\n      this.isScrollBarScrolling = false;\r\n    }, timeout);\r\n\r\n\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * fixes scrolling / top of divs\r\n   ****************************************************************************************************************************/\r\n  scrollEventHandler() {\r\n\r\n\r\n    var currentScrollTop = this.vGridGenerator.contentElement.scrollTop;\r\n    var currentScrollLeft = this.vGridGenerator.contentElement.scrollLeft;\r\n\r\n\r\n    //are we scrolling ?\r\n    if (currentScrollTop !== this.lastScrollTop) {\r\n      //is vert scroll\r\n\r\n      //stop left scroll...\r\n      if (currentScrollLeft !== 0) {\r\n        this.vGridGenerator.contentElement.scrollLeft = this.lastScrollLeft;\r\n        this.vGridGenerator.headerElement.scrollLeft = this.lastScrollLeft\r\n      }\r\n\r\n      //check if down scroll.\r\n      var isDownScroll = true;\r\n      if (currentScrollTop < this.lastScrollTop) {\r\n        isDownScroll = false;\r\n      }\r\n\r\n      //check if big scroll (split m into 2.. simple to read)\r\n      var isLargeScroll;\r\n      switch (true) {\r\n        case currentScrollTop > this.lastScrollTop + this.vGridConfig.largeScrollLimit:\r\n        case currentScrollTop < this.lastScrollTop - this.vGridConfig.largeScrollLimit:\r\n          isLargeScroll = true;\r\n          break;\r\n        default:\r\n          isLargeScroll = false;\r\n      }\r\n\r\n      //reset scroll top\r\n      this.lastScrollTop = currentScrollTop;\r\n\r\n      //check if big scroll\r\n      if (isLargeScroll) {\r\n        //now user can set this, on very large collections this will drag preformance down\r\n        if (this.vGridConfig.attRenderOnScrollbarScroll) {\r\n          this.onLargeScroll()\r\n        } else {\r\n          this.onScrollbarScrolling();\r\n        }\r\n      } else {\r\n        this.onSmallScroll(isDownScroll, currentScrollTop)\r\n      }\r\n    } else {\r\n\r\n      if (this.vGridGenerator.contentElement.style.overflowX === \"hidden\") {\r\n        //we do not want scrolls left if this is hidden..\r\n        this.vGridGenerator.contentElement.scrollLeft = 0;\r\n        this.lastScrollLeft = 0;\r\n        this.vGridGenerator.headerElement.scrollLeft = 0;\r\n      } else {\r\n        if (this.lastScrollLeft !== currentScrollLeft) {\r\n          currentScrollLeft = this.vGridGenerator.contentElement.scrollLeft;\r\n          this.lastScrollLeft = currentScrollLeft;\r\n          this.vGridGenerator.headerElement.scrollLeft = currentScrollLeft;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n"]}