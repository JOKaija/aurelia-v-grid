{"version":3,"sources":["vGrid/v-grid-element-row-repeat.js"],"names":["inject","noView","customElement","processContent","Container","TargetInstruction","bindable","ViewSlot","VGrid","VGridElementRowRepeat","compiler","resources","element","instruction","headerTemplateElement","getElementsByTagName","headerTemplateHtml","innerHTML","headerTemplate","rowTemplateElement","rowTemplateHtml","rowTemplate","Element","vGrid","targetInstruction","elementInstruction","bind","bindingContext","vGridConfig","repeater","repeatRowTemplate","repeatRowHeaderTemplate"],"mappings":";;;;;;;;;;;;;;;AAMQA,Y,qBAAAA,M;AAAQC,Y,qBAAAA,M;AAAQC,mB,qBAAAA,a;AAAeC,oB,qBAAAA,c;AAAgBC,e,qBAAAA,S;AAAWC,uB,qBAAAA,iB;AAAkBC,c,qBAAAA,Q;AAAUC,c,qBAAAA,Q;;AACtFC,W,UAAAA,K;;;uCA4BKC,qB,WAzBZR,Q,UACAC,cAAc,mBAAd,C,UACAC,eAAe,UAACO,QAAD,EAAWC,SAAX,EAAsBC,OAAtB,EAA+BC,WAA/B,EAA+C;;AAE7D,YAAIC,wBAAwBF,QAAQG,oBAAR,CAA6B,mBAA7B,EAAkD,CAAlD,CAA5B;AACA,YAAIC,qBAAqBF,wBAAwBA,sBAAsBG,SAA9C,GAAwD,IAAjF;AACA,YAAID,uBAAuB,EAA3B,EAA+B;AAC7BH,sBAAYK,cAAZ,GAA6BF,kBAA7B;AACD;;AAED,YAAIG,qBAAqBP,QAAQG,oBAAR,CAA6B,gBAA7B,EAA+C,CAA/C,CAAzB;AACA,YAAIK,kBAAkBD,qBAAqBA,mBAAmBF,SAAxC,GAAkD,IAAxE;AACA,YAAIG,oBAAoB,EAAxB,EAA4B;AAC1BP,sBAAYQ,WAAZ,GAA0BD,eAA1B;AACD;;AAGD,YAAG,CAACA,eAAJ,EAAoB;AAClBP,sBAAYQ,WAAZ,GAA0BT,QAAQK,SAAlC;AACD;;AAEDL,gBAAQK,SAAR,GAAoB,EAApB;AAED,OArBA,C,UAsBAjB,OAAOsB,OAAP,EAAgBd,KAAhB,EAAuBH,iBAAvB,C;AAIC,uCAAYO,OAAZ,EAAqBW,KAArB,EAA4BC,iBAA5B,EAA+C;AAAA;;AAC7C,eAAKZ,OAAL,GAAeA,OAAf;AACA,eAAKW,KAAL,GAAaA,KAAb;AACA,eAAKF,WAAL,GAAmBG,kBAAkBC,kBAAlB,CAAqCJ,WAAxD;AACA,eAAKH,cAAL,GAAsBM,kBAAkBC,kBAAlB,CAAqCP,cAA3D;AAED;;wCAGDQ,I,iBAAKC,c,EAAgB;AACnB,eAAKA,cAAL,GAAsBA,cAAtB;AACA,eAAKJ,KAAL,CAAWK,WAAX,CAAuBC,QAAvB,GAAkC,IAAlC;AACA,eAAKN,KAAL,CAAWK,WAAX,CAAuBE,iBAAvB,GAA2C,KAAKT,WAAhD;AACA,eAAKE,KAAL,CAAWK,WAAX,CAAuBG,uBAAvB,GAAiD,KAAKb,cAAtD;AACD,S","file":"vGrid/v-grid-element-row-repeat.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    VGridRowRepeat\r\n *    Custom element just repeating the heml inside it for each row\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, noView, customElement, processContent, Container, TargetInstruction,bindable, ViewSlot} from 'aurelia-framework';\r\nimport {VGrid} from './v-grid';\r\n\r\n\r\n@noView()\r\n@customElement('v-grid-row-repeat')\r\n@processContent((compiler, resources, element, instruction) => {\r\n\r\n  var headerTemplateElement = element.getElementsByTagName(\"V-HEADER-TEMPLATE\")[0];\r\n  let headerTemplateHtml = headerTemplateElement ? headerTemplateElement.innerHTML:null;\r\n  if (headerTemplateHtml !== '') {\r\n    instruction.headerTemplate = headerTemplateHtml;\r\n  }\r\n\r\n  var rowTemplateElement = element.getElementsByTagName(\"V-ROW-TEMPLATE\")[0];\r\n  let rowTemplateHtml = rowTemplateElement ? rowTemplateElement.innerHTML:null;\r\n  if (rowTemplateHtml !== '') {\r\n    instruction.rowTemplate = rowTemplateHtml;\r\n  }\r\n\r\n  //if we didnt get anything we use it all\r\n  if(!rowTemplateHtml){\r\n    instruction.rowTemplate = element.innerHTML;\r\n  }\r\n\r\n  element.innerHTML = '';\r\n\r\n})\r\n@inject(Element, VGrid, TargetInstruction)\r\nexport class VGridElementRowRepeat {\r\n\r\n\r\n  constructor(element, vGrid, targetInstruction) {\r\n    this.element = element;\r\n    this.vGrid = vGrid;\r\n    this.rowTemplate = targetInstruction.elementInstruction.rowTemplate;\r\n    this.headerTemplate = targetInstruction.elementInstruction.headerTemplate;\r\n\r\n  }\r\n\r\n\r\n  bind(bindingContext) {\r\n    this.bindingContext = bindingContext;\r\n    this.vGrid.vGridConfig.repeater = true;\r\n    this.vGrid.vGridConfig.repeatRowTemplate = this.rowTemplate;\r\n    this.vGrid.vGridConfig.repeatRowHeaderTemplate = this.headerTemplate;\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n"]}