{"version":3,"sources":["vGrid/v-grid-attributes-selection.js"],"names":["inject","customAttribute","VGrid","vGridAttributesSelection","Element","element","vGrid","false","bind","bindingContext","overrideContext","created","selected","vGridSelection","isSelected","row","checked","attached","onclick","status","value","selectAll","vGridGenerator","rebindAllRowSlots","select","rebindRowNumber","deSelectAll","deSelect"],"mappings":";;;;;;;;;;;;;;;AAKQA,Y,qBAAAA,M;AAAQC,qB,qBAAAA,e;;AACRC,W,UAAAA,K;;;0CAKKC,wB,WAFZF,gBAAgB,aAAhB,C,UACAD,OAAOI,OAAP,EAAgBF,KAAhB,C;AAKC,0CAAYG,OAAZ,EAAqBC,KAArB,EAA4B;AAAA;;AAC1B,eAAKA,KAAL,GAAaA,KAAb;AACA,eAAKD,OAAL,GAAeA,OAAf;AACA,eAAKE,KAAL,GAAa,IAAb;AACD;;2CAGDC,I,iBAAKC,c,EAAgBC,e,EAAiB;AACpC,eAAKD,cAAL,GAAsBA,cAAtB;AACA,eAAKC,eAAL,GAAuBA,eAAvB;AACA,cAAI,KAAKC,OAAT,EAAkB;AAChB,iBAAKC,QAAL,GAAgB,KAAKN,KAAL,CAAWO,cAAX,CAA0BC,UAA1B,CAAqC,KAAKL,cAAL,CAAoBM,GAAzD,CAAhB;AACA,iBAAKV,OAAL,CAAaW,OAAb,GAAuB,KAAKJ,QAA5B;AACD;AACF,S;;2CAGDK,Q,uBAAW;AAAA;;AAET,eAAKN,OAAL,GAAe,IAAf;AACA,eAAKC,QAAL,GAAgB,KAAKN,KAAL,CAAWO,cAAX,CAA0BC,UAA1B,CAAqC,KAAKL,cAAL,CAAoBM,GAAzD,CAAhB;AACA,eAAKV,OAAL,CAAaW,OAAb,GAAuB,KAAKJ,QAA5B;;AAEA,eAAKP,OAAL,CAAaa,OAAb,GAAuB,YAAM;;AAE3B,gBAAIC,SAAS,MAAKd,OAAL,CAAaW,OAAb,KAAyB,MAAzB,IAAmC,MAAKX,OAAL,CAAaW,OAAb,KAAyB,IAA5D,GAAmE,IAAnE,GAA0E,KAAvF;;AAEA,gBAAIG,MAAJ,EAAY;AACV,kBAAI,MAAKC,KAAL,KAAe,QAAnB,EAA6B;AAC3B,sBAAKd,KAAL,CAAWO,cAAX,CAA0BQ,SAA1B;AACA,sBAAKf,KAAL,CAAWgB,cAAX,CAA0BC,iBAA1B;AACD;AACD,kBAAI,MAAKH,KAAL,KAAe,KAAnB,EAA0B;AACxB,sBAAKd,KAAL,CAAWO,cAAX,CAA0BW,MAA1B,CAAiC,MAAKf,cAAL,CAAoBM,GAArD,EAA0D,IAA1D;AACA,sBAAKT,KAAL,CAAWgB,cAAX,CAA0BG,eAA1B,CAA0C,MAAKhB,cAAL,CAAoBM,GAA9D;AACD;AACF,aATD,MASO;;AAEL,kBAAI,MAAKK,KAAL,KAAe,QAAnB,EAA6B;AAC3B,sBAAKd,KAAL,CAAWO,cAAX,CAA0Ba,WAA1B;AACA,sBAAKpB,KAAL,CAAWgB,cAAX,CAA0BC,iBAA1B;AACD;;AAED,kBAAI,MAAKH,KAAL,KAAe,KAAnB,EAA0B;AACxB,sBAAKd,KAAL,CAAWO,cAAX,CAA0Bc,QAA1B,CAAmC,MAAKlB,cAAL,CAAoBM,GAAvD,EAA4D,IAA5D;AACA,sBAAKT,KAAL,CAAWgB,cAAX,CAA0BG,eAA1B,CAA0C,MAAKhB,cAAL,CAAoBM,GAA9D;AACD;AACF;AAEF,WA1BD;AA6BD,S","file":"vGrid/v-grid-attributes-selection.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    Attributes for row/header, enables checkbox , manual selection much be used with this\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, customAttribute} from 'aurelia-framework';\r\nimport {VGrid} from './v-grid';\r\n\r\n\r\n@customAttribute('v-selection')\r\n@inject(Element, VGrid)\r\nexport class vGridAttributesSelection {\r\n\r\n  \r\n  \r\n  constructor(element, vGrid) {\r\n    this.vGrid = vGrid;\r\n    this.element = element;\r\n    this.false = true;\r\n  }\r\n\r\n\r\n  bind(bindingContext, overrideContext) {\r\n    this.bindingContext = bindingContext;\r\n    this.overrideContext = overrideContext;\r\n    if (this.created) {\r\n      this.selected = this.vGrid.vGridSelection.isSelected(this.bindingContext.row);\r\n      this.element.checked = this.selected;\r\n    }\r\n  }\r\n\r\n\r\n  attached() {\r\n\r\n    this.created = true;\r\n    this.selected = this.vGrid.vGridSelection.isSelected(this.bindingContext.row);\r\n    this.element.checked = this.selected;\r\n\r\n    this.element.onclick = () => { \r\n\r\n      var status = this.element.checked === \"true\" || this.element.checked === true ? true : false;\r\n\r\n      if (status) {\r\n        if (this.value === \"header\") {\r\n          this.vGrid.vGridSelection.selectAll();\r\n          this.vGrid.vGridGenerator.rebindAllRowSlots();\r\n        }\r\n        if (this.value === \"row\") {\r\n          this.vGrid.vGridSelection.select(this.bindingContext.row, true);\r\n          this.vGrid.vGridGenerator.rebindRowNumber(this.bindingContext.row);\r\n        }\r\n      } else {\r\n\r\n        if (this.value === \"header\") {\r\n          this.vGrid.vGridSelection.deSelectAll();\r\n          this.vGrid.vGridGenerator.rebindAllRowSlots();\r\n        }\r\n\r\n        if (this.value === \"row\") {\r\n          this.vGrid.vGridSelection.deSelect(this.bindingContext.row, true);\r\n          this.vGrid.vGridGenerator.rebindRowNumber(this.bindingContext.row);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n"]}