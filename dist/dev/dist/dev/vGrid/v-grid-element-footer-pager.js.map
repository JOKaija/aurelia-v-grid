{"version":3,"sources":["vGrid/v-grid-element-footer-pager.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAMQ,Y,qBAAA,M;AAAQ,mB,qBAAA,a;AAAe,c,qBAAA,Q;;;yCAKlB,uB,WAFZ,cAAc,cAAd,C,UACA,OAAO,OAAP,C;AAMC,yCAAY,OAAZ,EAAqB;AAAA;;AAAA,eAHrB,IAGqB,GAHd,EAGc;;AACnB,eAAK,OAAL,GAAe,OAAf;AACD;;0CAGD,I,iBAAK,M,EAAQ;AACX,eAAK,MAAL,GAAc,MAAd;AACA,eAAK,KAAL,GAAa,OAAO,KAApB;AACA,eAAK,WAAL,GAAmB,OAAO,KAAP,CAAa,WAAhC;AACA,eAAK,KAAL,CAAW,UAAX,GAAwB,IAAxB;AACD,S;;0CAGD,Q,uBAAW;AACT,eAAK,gBAAL,GAAwB,KAAxB;AACA,eAAK,gBAAL,GAAwB,KAAxB;AACA,eAAK,iBAAL,GAAyB,KAAzB;AACA,eAAK,gBAAL,GAAwB,KAAxB;;AAEA,eAAK,qBAAL,GAA6B,KAAK,OAAL,CAAa,cAAb,KAAgC,MAA7D;AACA,eAAK,qBAAL,GAA6B,KAAK,OAAL,CAAa,cAAb,KAAgC,MAA7D;AACA,eAAK,sBAAL,GAA8B,KAAK,OAAL,CAAa,eAAb,KAAiC,OAA/D;AACA,eAAK,qBAAL,GAA6B,KAAK,OAAL,CAAa,cAAb,KAAgC,MAA7D;;AAEA,eAAK,eAAL,GAAuB,KAAK,OAAL,CAAa,iBAAb,KAAmC,OAA1D;AACA,eAAK,aAAL,GAAqB,KAAK,OAAL,CAAa,eAAb,KAAiC,MAAtD;AACA,eAAK,wBAAL,GAAgC,KAAK,OAAL,CAAa,0BAAb,KAA4C,mBAA5E;AACA,eAAK,mBAAL,GAA2B,KAAK,OAAL,CAAa,qBAAb,KAAuC,cAAlE;AAED,S;;0CAGD,O,oBAAQ,K,EAAM;AACZ,iBAAO,KAAK,KAAL,CAAW,WAAX,CAAuB,WAAvB,CAAmC,KAAnC,CAAP;AACD,S;;0CAGD,W,wBAAY,I,EAAM;AAChB,eAAK,gBAAL,GAAwB,KAAK,MAA7B;AACA,eAAK,KAAL,GAAa,KAAK,KAAlB;AACA,eAAK,MAAL,GAAc,KAAK,MAAnB;;AAEA,eAAK,IAAL,GAAY,KAAK,MAAL,GAAc,KAAK,IAAL,CAAU,KAAK,MAAL,GAAc,KAAK,KAA7B,IAAsC,CAApD,GAAwD,CAApE;;AAGA,cAAI,KAAK,IAAL,KAAc,CAAlB,EAAqB;AACnB,iBAAK,iBAAL,GAAyB,KAAzB;AACA,iBAAK,gBAAL,GAAwB,KAAxB;AACD,WAHD,MAGO;AACL,iBAAK,iBAAL,GAAyB,IAAzB;AACA,iBAAK,gBAAL,GAAwB,IAAxB;AACD;;AAGD,cAAI,KAAK,MAAL,IAAe,KAAK,gBAAL,GAAwB,KAAK,KAAhD,EAAuD;AACrD,iBAAK,gBAAL,GAAwB,KAAxB;AACA,iBAAK,gBAAL,GAAwB,KAAxB;AACD,WAHD,MAGO;AACL,iBAAK,gBAAL,GAAwB,IAAxB;AACA,iBAAK,gBAAL,GAAwB,IAAxB;AACD;;AAID,cAAI,CAAC,KAAK,WAAL,CAAiB,gBAAtB,EAAwC;AACtC,iBAAK,IAAL,QAAe,KAAK,eAApB,GAAsC,KAAK,IAA3C,GAAkD,KAAK,aAAvD,GAAuE,KAAK,IAAL,CAAU,KAAK,gBAAL,GAAwB,KAAK,KAAvC,CAAvE,GAAuH,KAAK,wBAA5H,GAAuJ,KAAK,gBAA5J,GAA+K,KAAK,mBAApL,GAA0M,KAAK,KAA/M;AACD;;AAID,eAAK,KAAL,CAAW,UAAX,CAAsB,2BAAtB,EAAmD;AACjD,iBAAK,2BAD4C;AAEjD,kBAAM,KAAK,IAFsC;AAGjD,mBAAO,KAAK,IAAL,CAAU,KAAK,gBAAL,GAAwB,KAAK,KAAvC,CAH0C;AAIjD,oBAAQ,KAAK,gBAJoC;AAKjD,sBAAU,KAAK;AALkC,WAAnD;AAQD,S;;0CAGD,Q,uBAAW;AACT,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,CAAhC;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S;;0CAGD,O,sBAAU;AACR,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,WAAjF;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S;;0CAGD,O,sBAAU;AACR,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,WAAjF;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S;;0CAGD,O,sBAAU;AACR,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,WAAjF;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S","file":"vGrid/v-grid-element-footer-pager.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    VGridFooterPager\r\n *    Custom element for use in the footer container\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, customElement, bindable} from 'aurelia-framework';\r\n\r\n\r\n@customElement('v-grid-pager')\r\n@inject(Element)\r\nexport class VGridElementFooterPager {\r\n\r\n  info = \"\";\r\n\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n\r\n\r\n  bind(parent) {\r\n    this.parent = parent;\r\n    this.vGrid = parent.vGrid;\r\n    this.vGridConfig = parent.vGrid.vGridConfig;\r\n    this.vGrid.vGridPager = this;\r\n  }\r\n\r\n\r\n  attached() {\r\n    this.statusNextButton = false;\r\n    this.statusLastButton = false;\r\n    this.statusFirstButton = false;\r\n    this.statusPrevButton = false;\r\n\r\n    this.statusNextButtonTitle = this.getLang(\"pagerBtnNext\") || \"Next\";\r\n    this.statusLastButtonTitle = this.getLang(\"pagerBtnLast\") || \"Last\";\r\n    this.statusFirstButtonTitle = this.getLang(\"pagerBtnFirst\") || \"First\";\r\n    this.statusPrevButtonTitle = this.getLang(\"pagerBtnLast\") || \"Last\";\r\n\r\n    this.pagerStringPage = this.getLang(\"pagerStringPage\") || \"Page \";\r\n    this.pagerStringOf = this.getLang(\"pagerStringOf\") || \" of \";\r\n    this.pagerStringTotalEntities = this.getLang(\"pagerStringTotalEntities\") || \", Total entities:\";\r\n    this.pagerStringPageSize = this.getLang(\"pagerStringPageSize\") || \", page size \";\r\n\r\n  }\r\n\r\n  \r\n  getLang(value){\r\n    return this.vGrid.vGridConfig.attLanguage[value];\r\n  }\r\n\r\n\r\n  updatePager(data) {\r\n    this.collectionLength = data.length;\r\n    this.limit = data.limit;\r\n    this.offset = data.offset;\r\n\r\n    this.page = this.offset ? Math.ceil(this.offset / this.limit) + 1 : 1;\r\n\r\n\r\n    if (this.page === 1) {\r\n      this.statusFirstButton = false;\r\n      this.statusPrevButton = false;\r\n    } else {\r\n      this.statusFirstButton = true;\r\n      this.statusPrevButton = true;\r\n    }\r\n\r\n\r\n    if (this.offset >= this.collectionLength - this.limit) {\r\n      this.statusNextButton = false;\r\n      this.statusLastButton = false;\r\n    } else {\r\n      this.statusNextButton = true;\r\n      this.statusLastButton = true;\r\n    }\r\n\r\n\r\n    //do we show page info?\r\n    if (!this.vGridConfig.attHidePagerInfo) {\r\n      this.info = `${this.pagerStringPage}${this.page}${this.pagerStringOf}${Math.ceil(this.collectionLength / this.limit)}${this.pagerStringTotalEntities}${this.collectionLength}${this.pagerStringPageSize}${this.limit}`;\r\n    }\r\n\r\n\r\n    //raise event\r\n    this.vGrid.raiseEvent(\"v-remote-collection-event\", {\r\n      evt: \"v-remote-collection-event\",\r\n      page: this.page,\r\n      pages: Math.ceil(this.collectionLength / this.limit),\r\n      length: this.collectionLength,\r\n      pageSize: this.limit\r\n    });\r\n\r\n  }\r\n\r\n\r\n  firstBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = 0;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n  nextBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset + this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n  prevBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset - this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n  lastBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteLength - this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n}\r\n"]}