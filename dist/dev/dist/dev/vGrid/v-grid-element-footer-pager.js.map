{"version":3,"sources":["vGrid/v-grid-element-footer-pager.js"],"names":["inject","customElement","bindable","VGridElementFooterPager","Element","element","info","bind","parent","vGrid","vGridConfig","vGridPager","attached","statusNextButton","statusLastButton","statusFirstButton","statusPrevButton","statusNextButtonTitle","getLang","statusLastButtonTitle","statusFirstButtonTitle","statusPrevButtonTitle","pagerStringPage","pagerStringOf","pagerStringTotalEntities","pagerStringPageSize","value","attLanguage","updatePager","data","collectionLength","length","limit","offset","page","Math","ceil","attHidePagerInfo","raiseEvent","evt","pages","pageSize","firstBtn","loading","remoteOffset","remoteCall","nextBtn","remoteLimit","prevBtn","lastBtn","remoteLength"],"mappings":";;;;;;;;;;;;;;;AAMQA,Y,qBAAAA,M;AAAQC,mB,qBAAAA,a;AAAeC,c,qBAAAA,Q;;;yCAKlBC,uB,WAFZF,cAAc,cAAd,C,UACAD,OAAOI,OAAP,C;AAMC,yCAAYC,OAAZ,EAAqB;AAAA;;AAAA,eAHrBC,IAGqB,GAHd,EAGc;;AACnB,eAAKD,OAAL,GAAeA,OAAf;AACD;;0CAGDE,I,iBAAKC,M,EAAQ;AACX,eAAKA,MAAL,GAAcA,MAAd;AACA,eAAKC,KAAL,GAAaD,OAAOC,KAApB;AACA,eAAKC,WAAL,GAAmBF,OAAOC,KAAP,CAAaC,WAAhC;AACA,eAAKD,KAAL,CAAWE,UAAX,GAAwB,IAAxB;AACD,S;;0CAGDC,Q,uBAAW;AACT,eAAKC,gBAAL,GAAwB,KAAxB;AACA,eAAKC,gBAAL,GAAwB,KAAxB;AACA,eAAKC,iBAAL,GAAyB,KAAzB;AACA,eAAKC,gBAAL,GAAwB,KAAxB;;AAEA,eAAKC,qBAAL,GAA6B,KAAKC,OAAL,CAAa,cAAb,KAAgC,MAA7D;AACA,eAAKC,qBAAL,GAA6B,KAAKD,OAAL,CAAa,cAAb,KAAgC,MAA7D;AACA,eAAKE,sBAAL,GAA8B,KAAKF,OAAL,CAAa,eAAb,KAAiC,OAA/D;AACA,eAAKG,qBAAL,GAA6B,KAAKH,OAAL,CAAa,cAAb,KAAgC,MAA7D;;AAEA,eAAKI,eAAL,GAAuB,KAAKJ,OAAL,CAAa,iBAAb,KAAmC,OAA1D;AACA,eAAKK,aAAL,GAAqB,KAAKL,OAAL,CAAa,eAAb,KAAiC,MAAtD;AACA,eAAKM,wBAAL,GAAgC,KAAKN,OAAL,CAAa,0BAAb,KAA4C,mBAA5E;AACA,eAAKO,mBAAL,GAA2B,KAAKP,OAAL,CAAa,qBAAb,KAAuC,cAAlE;AAED,S;;0CAGDA,O,oBAAQQ,K,EAAM;AACZ,iBAAO,KAAKjB,KAAL,CAAWC,WAAX,CAAuBiB,WAAvB,CAAmCD,KAAnC,CAAP;AACD,S;;0CAGDE,W,wBAAYC,I,EAAM;AAChB,eAAKC,gBAAL,GAAwBD,KAAKE,MAA7B;AACA,eAAKC,KAAL,GAAaH,KAAKG,KAAlB;AACA,eAAKC,MAAL,GAAcJ,KAAKI,MAAnB;;AAEA,eAAKC,IAAL,GAAY,KAAKD,MAAL,GAAcE,KAAKC,IAAL,CAAU,KAAKH,MAAL,GAAc,KAAKD,KAA7B,IAAsC,CAApD,GAAwD,CAApE;;AAGA,cAAI,KAAKE,IAAL,KAAc,CAAlB,EAAqB;AACnB,iBAAKnB,iBAAL,GAAyB,KAAzB;AACA,iBAAKC,gBAAL,GAAwB,KAAxB;AACD,WAHD,MAGO;AACL,iBAAKD,iBAAL,GAAyB,IAAzB;AACA,iBAAKC,gBAAL,GAAwB,IAAxB;AACD;;AAGD,cAAI,KAAKiB,MAAL,IAAe,KAAKH,gBAAL,GAAwB,KAAKE,KAAhD,EAAuD;AACrD,iBAAKnB,gBAAL,GAAwB,KAAxB;AACA,iBAAKC,gBAAL,GAAwB,KAAxB;AACD,WAHD,MAGO;AACL,iBAAKD,gBAAL,GAAwB,IAAxB;AACA,iBAAKC,gBAAL,GAAwB,IAAxB;AACD;;AAID,cAAI,CAAC,KAAKJ,WAAL,CAAiB2B,gBAAtB,EAAwC;AACtC,iBAAK/B,IAAL,QAAe,KAAKgB,eAApB,GAAsC,KAAKY,IAA3C,GAAkD,KAAKX,aAAvD,GAAuEY,KAAKC,IAAL,CAAU,KAAKN,gBAAL,GAAwB,KAAKE,KAAvC,CAAvE,GAAuH,KAAKR,wBAA5H,GAAuJ,KAAKM,gBAA5J,GAA+K,KAAKL,mBAApL,GAA0M,KAAKO,KAA/M;AACD;;AAID,eAAKvB,KAAL,CAAW6B,UAAX,CAAsB,2BAAtB,EAAmD;AACjDC,iBAAK,2BAD4C;AAEjDL,kBAAM,KAAKA,IAFsC;AAGjDM,mBAAOL,KAAKC,IAAL,CAAU,KAAKN,gBAAL,GAAwB,KAAKE,KAAvC,CAH0C;AAIjDD,oBAAQ,KAAKD,gBAJoC;AAKjDW,sBAAU,KAAKT;AALkC,WAAnD;AAQD,S;;0CAGDU,Q,uBAAW;AACT,eAAKjC,KAAL,CAAWkC,OAAX,GAAqB,IAArB;AACA,eAAKjC,WAAL,CAAiBkC,YAAjB,GAAgC,CAAhC;AACA,eAAKlC,WAAL,CAAiBmC,UAAjB;AACD,S;;0CAGDC,O,sBAAU;AACR,eAAKrC,KAAL,CAAWkC,OAAX,GAAqB,IAArB;AACA,eAAKjC,WAAL,CAAiBkC,YAAjB,GAAgC,KAAKlC,WAAL,CAAiBkC,YAAjB,GAAgC,KAAKlC,WAAL,CAAiBqC,WAAjF;AACA,eAAKrC,WAAL,CAAiBmC,UAAjB;AACD,S;;0CAGDG,O,sBAAU;AACR,eAAKvC,KAAL,CAAWkC,OAAX,GAAqB,IAArB;AACA,eAAKjC,WAAL,CAAiBkC,YAAjB,GAAgC,KAAKlC,WAAL,CAAiBkC,YAAjB,GAAgC,KAAKlC,WAAL,CAAiBqC,WAAjF;AACA,eAAKrC,WAAL,CAAiBmC,UAAjB;AACD,S;;0CAGDI,O,sBAAU;AACR,eAAKxC,KAAL,CAAWkC,OAAX,GAAqB,IAArB;AACA,eAAKjC,WAAL,CAAiBkC,YAAjB,GAAgC,KAAKlC,WAAL,CAAiBwC,YAAjB,GAAgC,KAAKxC,WAAL,CAAiBqC,WAAjF;AACA,eAAKrC,WAAL,CAAiBmC,UAAjB;AACD,S","file":"vGrid/v-grid-element-footer-pager.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    VGridFooterPager\r\n *    Custom element for use in the footer container\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, customElement, bindable} from 'aurelia-framework';\r\n\r\n\r\n@customElement('v-grid-pager')\r\n@inject(Element)\r\nexport class VGridElementFooterPager {\r\n\r\n  info = \"\";\r\n\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n\r\n\r\n  bind(parent) {\r\n    this.parent = parent;\r\n    this.vGrid = parent.vGrid;\r\n    this.vGridConfig = parent.vGrid.vGridConfig;\r\n    this.vGrid.vGridPager = this;\r\n  }\r\n\r\n\r\n  attached() {\r\n    this.statusNextButton = false;\r\n    this.statusLastButton = false;\r\n    this.statusFirstButton = false;\r\n    this.statusPrevButton = false;\r\n\r\n    this.statusNextButtonTitle = this.getLang(\"pagerBtnNext\") || \"Next\";\r\n    this.statusLastButtonTitle = this.getLang(\"pagerBtnLast\") || \"Last\";\r\n    this.statusFirstButtonTitle = this.getLang(\"pagerBtnFirst\") || \"First\";\r\n    this.statusPrevButtonTitle = this.getLang(\"pagerBtnLast\") || \"Last\";\r\n\r\n    this.pagerStringPage = this.getLang(\"pagerStringPage\") || \"Page \";\r\n    this.pagerStringOf = this.getLang(\"pagerStringOf\") || \" of \";\r\n    this.pagerStringTotalEntities = this.getLang(\"pagerStringTotalEntities\") || \", Total entities:\";\r\n    this.pagerStringPageSize = this.getLang(\"pagerStringPageSize\") || \", page size \";\r\n\r\n  }\r\n\r\n  \r\n  getLang(value){\r\n    return this.vGrid.vGridConfig.attLanguage[value];\r\n  }\r\n\r\n\r\n  updatePager(data) {\r\n    this.collectionLength = data.length;\r\n    this.limit = data.limit;\r\n    this.offset = data.offset;\r\n\r\n    this.page = this.offset ? Math.ceil(this.offset / this.limit) + 1 : 1;\r\n\r\n\r\n    if (this.page === 1) {\r\n      this.statusFirstButton = false;\r\n      this.statusPrevButton = false;\r\n    } else {\r\n      this.statusFirstButton = true;\r\n      this.statusPrevButton = true;\r\n    }\r\n\r\n\r\n    if (this.offset >= this.collectionLength - this.limit) {\r\n      this.statusNextButton = false;\r\n      this.statusLastButton = false;\r\n    } else {\r\n      this.statusNextButton = true;\r\n      this.statusLastButton = true;\r\n    }\r\n\r\n\r\n    //do we show page info?\r\n    if (!this.vGridConfig.attHidePagerInfo) {\r\n      this.info = `${this.pagerStringPage}${this.page}${this.pagerStringOf}${Math.ceil(this.collectionLength / this.limit)}${this.pagerStringTotalEntities}${this.collectionLength}${this.pagerStringPageSize}${this.limit}`;\r\n    }\r\n\r\n\r\n    //raise event\r\n    this.vGrid.raiseEvent(\"v-remote-collection-event\", {\r\n      evt: \"v-remote-collection-event\",\r\n      page: this.page,\r\n      pages: Math.ceil(this.collectionLength / this.limit),\r\n      length: this.collectionLength,\r\n      pageSize: this.limit\r\n    });\r\n\r\n  }\r\n\r\n\r\n  firstBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = 0;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n  nextBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset + this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n  prevBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset - this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n  lastBtn() {\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteLength - this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall();\r\n  }\r\n\r\n\r\n}\r\n"]}